<!DOCTYPE html>
<html lang="en" class="wf-facitweb-n4-active wf-facitweb-n7-active wf-active"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0,width=device-width">
	<title>Test</title>
	
	<script src="jquery-1.11.0.min.js"></script>
<link rel="stylesheet" type="text/css" href="jquery.svg.css"> 
<script type="text/javascript" src="jquery.svg.js"></script>



<script  type="text/javascript" >
jQuery.browser = {};
(function () {
    jQuery.browser.msie = false;
    jQuery.browser.version = 0;
    if (navigator.userAgent.match(/MSIE ([0-9]+)\./)) {
        jQuery.browser.msie = true;
        jQuery.browser.version = RegExp.$1;
    }
})();
</script>


</head>
<body>
	<div id="topcontrols"><p>hello</p></div>
	<div id="photo-demo" style="width: 1280px; height: 720px;">
	
	</div>
<div id="bottomcontrols"><p>goodbye</p></div>
	

<script  type="text/javascript" >
function drawInitial(svg) {
	svg.load('tesm2.svg', {addTo: true, changeSize: false});
	

//JSON\

var jqxhr = $.getJSON( "cards.json", function() {
  console.log( "success" );
})
  .done(function() {
    console.log( "second success" );
  })
  .fail(function(textstatus,error) {
    console.log( textstatus + ", " + error );
  })
  .always(function() {
    console.log( "complete" );
  });
 
// Perform other work here ...
 
// Set another completion function for the request above
jqxhr.complete(function() {
	var jsonObj = jqxhr.responseJSON.cardlist.cards;
	var arrX=0,arrY=0;
	var newdefs = svg.defs('newdefs');

	$.each(jsonObj,function(key,val){
		arrX+=1;
		var tex = 'svguse'+parseInt(arrX)+'x'+parseInt(arrX);
		//$('#'+ tex).attr("xlink:href","");
		console.log(key);


		var sym = svg.symbol(newdefs,'sym'+key,0,0,35,35);
		var qq = svg.clone(sym,$('#polyhex'));

		svg.image(sym,0,0,35,35,val.battleImage,{id:'img'+key});

		$('#'+ tex).attr("xlink:href",'sym'+key);
		
	});

});




}
	$('#photo-demo').svg(drawInitial);

</script>



</body></html>